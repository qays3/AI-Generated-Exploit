import argparse
import time
from exploitAI.src.ai_exploit_generator import generate_exploit
from exploitAI.src.exploit_runner import run_exploit

def slow_print(text, delay=0.1):
    """Prints text line by line with a delay."""
    lines = text.splitlines()  
    for line in lines:
        print(line)  
        time.sleep(delay)  
    print()  

def run_cli():
    parser = argparse.ArgumentParser(description="AI-Powered Exploit CLI")
    parser.add_argument('--ip', type=str, required=False, help='Target IP address')
    parser.add_argument('--exploit', type=str, required=False, help='Exploit ID or name')
    args = parser.parse_args()

    exploit_code = generate_exploit(args.exploit, args.ip)
    
    slow_print(exploit_code)  
    

if __name__ == "__main__":
    run_cli()
