import subprocess
import os

def run_exploit(exploit_code):
    temp_dir = os.path.join(os.path.dirname(__file__), '..', 'temp')
    os.makedirs(temp_dir, exist_ok=True)
    exploit_file = os.path.join(temp_dir, 'exploit.sh')
    
    with open(exploit_file, 'w') as file:
        file.write(exploit_code)
    
    subprocess.run(['chmod', '+x', exploit_file])
    subprocess.run([exploit_file])
    
    os.remove(exploit_file)
